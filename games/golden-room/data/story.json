{
  "meta": {
    "title": "태풍으로 멈춘 호화 크루즈",
    "description": "태풍으로 고립된 호화 크루즈에서 벌어진 살인사건! 사립탐정 강지훈은 숨겨진 진실을 파헤쳐야만 한다.",
    "genre": "mystery",
    "playtime": "30-60분"
  },
  "characters": {
    "char_protagonist": {
      "name": "강지훈",
      "color": "#007bff"
    },
    "char_victim": {
      "name": "강태준",
      "color": "#dc3545"
    },
    "char_journalist": {
      "name": "김민지",
      "color": "#28a745"
    },
    "char_heiress": {
      "name": "최수연",
      "color": "#ffc107"
    },
    "char_musician": {
      "name": "박선우",
      "color": "#17a2b8"
    },
    "char_employee": {
      "name": "이수현",
      "color": "#6c757d"
    },
    "char_soundEngineer": {
      "name": "정재현",
      "color": "#343a40"
    }
  },
  "backgrounds": [
    {
      "id": "bg_cruise_cabin",
      "name": "크루즈 객실"
    },
    {
      "id": "bg_cruise_deck",
      "name": "크루즈 갑판"
    },
    {
      "id": "bg_cruise_casino",
      "name": "크루즈 카지노"
    },
    {
      "id": "bg_cruise_emergency_exit",
      "name": "크루즈 비상 통로"
    },
    {
      "id": "bg_cruise_dining",
      "name": "크루즈 식당"
    }
  ],
  "flags": {
    "evidence_001": false,
    "evidence_002": false,
    "evidence_003": false,
    "evidence_004": false,
    "testimony_001": false,
    "testimony_002": false,
    "testimony_003": false,
    "critical_clue_count": 0
  },
  "scenes": [
    {
      "id": "scene_prologue_001",
      "chapter": "prologue",
      "title": "불안한 항해",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "narration",
          "text": "화려한 크루즈 여행의 시작. 하지만 강태준 회장의 표정은 어둡기만 하다."
        },
        {
          "type": "speak",
          "character": "char_victim",
          "text": "김 기자, 자네가 또 무슨 꿍꿍이를 꾸미는 건지 뻔히 보인다."
        },
        {
          "type": "speak",
          "character": "char_journalist",
          "text": "회장님이야말로 과거의 죄를 덮으려고 발버둥치는 거 아니신가요?"
        },
        {
          "type": "speak",
          "character": "char_victim",
          "text": "입 조심하는 게 좋을 거야. 자네 기자 생활, 그걸로 끝장낼 수도 있으니."
        },
        {
          "type": "narration",
          "text": "강태준은 김민지를 매섭게 노려보며 경고한다. 두 사람 사이에는 팽팽한 긴장감이 감돈다."
        }
      ],
      "next": "scene_001"
    },
    {
      "id": "scene_001",
      "chapter": "1",
      "title": "사건 발생",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "narration",
          "text": "늦은 밤, 굉음과 함께 크루즈가 흔들린다. 선내 방송에서는 태풍으로 인해 항해가 지연될 것이라는 안내가 흘러나온다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 젠장, 하필 이런 날에..."
        },
        {
          "type": "narration",
          "text": "잠시 후, 객실 밖에서 비명 소리가 들려온다."
        }
      ],
      "next": "scene_002"
    },
    {
      "id": "scene_002",
      "chapter": "1",
      "title": "사건 현장",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "narration",
          "text": "강태준 회장이 자신의 객실에서 흉기에 찔려 사망한 채 발견되었다. 현장은 처참하다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "이런... 완전히 엉망진창이군."
        },
        {
          "type": "narration",
          "text": "주변에는 크루즈 직원들과 승객들이 모여 혼란스러워하고 있다."
        }
      ],
      "next": "scene_003"
    },
    {
      "id": "scene_003",
      "chapter": "1",
      "title": "첫 번째 용의자",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "저는 사립탐정 강지훈입니다. 사건 조사에 협조해주십시오."
        },
        {
          "type": "speak",
          "character": "char_journalist",
          "text": "흥, 탐정 나셨네. 어차피 범인은 뻔하지 않나?"
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "김민지 씨, 당신이 가장 먼저 용의선상에 오른 건 알고 있겠죠?"
        },
        {
          "type": "speak",
          "character": "char_journalist",
          "text": "억울하군요. 저는 그 시간에 제 객실에서 기사를 쓰고 있었습니다."
        }
      ],
      "next": "scene_004"
    },
    {
      "id": "scene_004",
      "chapter": "1",
      "title": "알리바이 확인",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 김민지의 알리바이를 확인해봐야겠어."
        },
        {
          "type": "choice",
          "prompt": "어떻게 조사할까?",
          "options": [
            {
              "text": "김민지의 객실을 조사한다.",
              "next": "scene_005",
              "setFlag": {
                "evidence_001": true,
                "critical_clue_count": 1
              }
            },
            {
              "text": "주변 사람들의 증언을 듣는다.",
              "next": "scene_006",
              "setFlag": {
                "testimony_001": true
              }
            }
          ]
        }
      ],
      "next": "scene_005"
    },
    {
      "id": "scene_005",
      "chapter": "1",
      "title": "타자 소리 녹음 파일",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "narration",
          "text": "김민지의 객실을 수색하던 중, 타자 소리가 녹음된 파일을 발견했다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 반복적인 패턴... 이건 뭔가 부자연스러운데."
        },
        {
          "type": "narration",
          "text": "플래그 'evidence_001' 획득."
        }
      ],
      "next": "scene_007"
    },
    {
      "id": "scene_006",
      "chapter": "1",
      "title": "정재현의 증언",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_soundEngineer",
          "text": "그 시간에는 김민지 씨 객실에서 계속 타자 치는 소리가 들렸어요. 이상할 정도로요."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 역시 녹음 파일인가... 뭔가 수상해."
        },
        {
          "type": "narration",
          "text": "플래그 'testimony_001' 획득."
        }
      ],
      "next": "scene_007"
    },
    {
      "id": "scene_007",
      "chapter": "2",
      "title": "두 번째 용의자",
      "background": "bg_cruise_casino",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_heiress",
          "text": "아, 짜증나! 돈만 날렸잖아!"
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "최수연 씨, 잠깐 시간 좀 내주시겠습니까?"
        },
        {
          "type": "speak",
          "character": "char_heiress",
          "text": "뭐야, 귀찮게. 난 카지노에 있었어. 알리바이 확실하다고."
        }
      ],
      "next": "scene_008"
    },
    {
      "id": "scene_008",
      "chapter": "2",
      "title": "카지노에서의 알리바이",
      "background": "bg_cruise_casino",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 최수연의 알리바이를 확인해봐야겠군."
        },
        {
          "type": "choice",
          "prompt": "어떻게 조사할까?",
          "options": [
            {
              "text": "카지노 직원에게 물어본다.",
              "next": "scene_009",
              "setFlag": {
                "testimony_002": true
              }
            },
            {
              "text": "최수연의 행적을 추적한다.",
              "next": "scene_010"
            }
          ]
        }
      ],
      "next": "scene_009"
    },
    {
      "id": "scene_009",
      "chapter": "2",
      "title": "카지노 직원의 증언",
      "background": "bg_cruise_casino",
      "dialogue": [
        {
          "type": "speak",
          "character": "카지노 직원",
          "text": "최수연 씨는 그 시간에 확실히 카지노에 계셨습니다. 많은 사람들이 봤을 겁니다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 최수연은 일단 용의선상에서 제외해야겠군."
        },
        {
          "type": "narration",
          "text": "플래그 'testimony_002' 획득."
        }
      ],
      "next": "scene_011"
    },
    {
      "id": "scene_010",
      "chapter": "2",
      "title": "최수연의 행적",
      "background": "bg_cruise_casino",
      "dialogue": [
        {
          "type": "narration",
          "text": "최수연은 정말로 사건 발생 시각에 카지노에 있었던 것으로 보인다. 그녀의 알리바이는 꽤나 확실하다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 최수연은 일단 보류다."
        }
      ],
      "next": "scene_011"
    },
    {
      "id": "scene_011",
      "chapter": "3",
      "title": "숨겨진 통로",
      "background": "bg_cruise_deck",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 뭔가 이상해. 김민지의 알리바이가 완벽하지 않아. 다른 가능성을 찾아봐야 해."
        },
        {
          "type": "choice",
          "prompt": "크루즈 내부를 더 탐색해볼까?",
          "options": [
            {
              "text": "비상 통로를 조사한다.",
              "next": "scene_012",
              "setFlag": {
                "evidence_002": true,
                "critical_clue_count": 2
              }
            },
            {
              "text": "피해자의 객실을 다시 조사한다.",
              "next": "scene_013"
            }
          ]
        }
      ],
      "next": "scene_012"
    },
    {
      "id": "scene_012",
      "chapter": "3",
      "title": "먼지 묻은 비상 통로",
      "background": "bg_cruise_emergency_exit",
      "dialogue": [
        {
          "type": "narration",
          "text": "크루즈 내부의 비상 통로를 조사하던 중, 최근에 사용된 듯한 먼지를 발견했다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 비상 통로... 누군가 이 길을 이용했다는 건가?"
        },
        {
          "type": "narration",
          "text": "플래그 'evidence_002' 획득."
        }
      ],
      "next": "scene_014"
    },
    {
      "id": "scene_013",
      "chapter": "3",
      "title": "피해자의 객실 재조사",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 뭔가 놓친 게 있을 거야. 다시 한번 꼼꼼히 살펴봐야 해."
        },
        {
          "type": "narration",
          "text": "피해자의 객실을 다시 조사했지만, 새로운 단서는 발견되지 않았다."
        }
      ],
      "next": "scene_014"
    },
    {
      "id": "scene_014",
      "chapter": "4",
      "title": "자동 잠금 장치의 비밀",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 비상 통로... 타자 소리 녹음 파일... 뭔가 연결고리가 있을 텐데."
        },
        {
          "type": "choice",
          "prompt": "다른 단서를 찾아볼까?",
          "options": [
            {
              "text": "객실 관리인에게 문의한다.",
              "next": "scene_015",
              "setFlag": {
                "evidence_003": true,
                "critical_clue_count": 3
              }
            },
            {
              "text": "이수현 비서를 조사한다.",
              "next": "scene_016"
            }
          ]
        }
      ],
      "next": "scene_015"
    },
    {
      "id": "scene_015",
      "chapter": "4",
      "title": "객실 관리인의 증언",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "객실 관리인",
          "text": "회장님 객실 문은 자동 잠금 장치가 달려있습니다. 그런데 가끔 오작동을 일으키기도 합니다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 자동 잠금 장치... 오작동... 드디어 퍼즐이 맞춰지는군."
        },
        {
          "type": "narration",
          "text": "플래그 'evidence_003' 획득."
        }
      ],
      "next": "scene_017"
    },
    {
      "id": "scene_016",
      "chapter": "4",
      "title": "이수현 비서의 진실",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_employee",
          "text": "저는 회장님께 충성을 다했습니다. 정말입니다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 뭔가 숨기고 있는 것 같지만, 결정적인 증거는 없어."
        },
        {
          "type": "narration",
          "text": "이수현은 여전히 침착한 태도를 유지하고 있다."
        }
      ],
      "next": "scene_017"
    },
    {
      "id": "scene_017",
      "chapter": "5",
      "title": "결정적 증거",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "(혼잣말) 김민지가 범인이라는 심증은 굳어졌지만, 결정적인 증거가 필요해."
        },
        {
          "type": "choice",
          "prompt": "마지막 수색을 해볼까?",
          "options": [
            {
              "text": "김민지의 객실을 다시 수색한다.",
              "next": "scene_018",
              "setFlag": {
                "evidence_004": true,
                "critical_clue_count": 4
              }
            },
            {
              "text": "사건을 재구성해본다.",
              "next": "scene_019"
            }
          ]
        }
      ],
      "next": "scene_018"
    },
    {
      "id": "scene_018",
      "chapter": "5",
      "title": "만년필의 혈흔",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "narration",
          "text": "김민지의 객실을 다시 수색하던 중, 만년필에서 강태준의 혈흔을 발견했다!"
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "이걸로 끝이다, 김민지!"
        },
        {
          "type": "narration",
          "text": "플래그 'evidence_004' 획득."
        }
      ],
      "next": "scene_deduction_start"
    },
    {
      "id": "scene_019",
      "chapter": "5",
      "title": "사건 재구성",
      "background": "bg_cruise_cabin",
      "dialogue": [
        {
          "type": "narration",
          "text": "사건을 재구성해본 결과, 김민지가 범인이라는 결론에 도달했다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "이제 모든 게 명확해졌어."
        }
      ],
      "next": "scene_deduction_start"
    },
    {
      "id": "scene_deduction_start",
      "chapter": "deduction",
      "title": "추리 시작",
      "background": "bg_cruise_deck",
      "dialogue": [
        {
          "type": "narration",
          "text": "모든 단서가 모였다. 이제 진실을 밝힐 시간이다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "자, 이제 누가 범인인지 맞춰볼까."
        }
      ]
    },
    {
      "id": "scene_ending_true",
      "chapter": "ending",
      "title": "진실의 무게",
      "background": "bg_cruise_deck",
      "dialogue": [
        {
          "type": "narration",
          "text": "김민지는 자신의 죄를 인정했다. 그녀는 강태준의 악행을 세상에 알리고 싶었지만, 결국 살인이라는 잘못된 길을 선택했다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "정의를 실현하는 방법은 살인이 아니었어."
        },
        {
          "type": "narration",
          "text": "사건은 해결되었지만, 강지훈의 마음은 무겁기만 하다."
        }
      ]
    },
    {
      "id": "scene_ending_normal",
      "chapter": "ending",
      "title": "엇갈린 진실",
      "background": "bg_cruise_deck",
      "dialogue": [
        {
          "type": "narration",
          "text": "강지훈은 범인을 잡았지만, 사건의 진실은 여전히 미궁 속에 남아있다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "이게 최선이었을까..."
        },
        {
          "type": "narration",
          "text": "찝찝한 기분으로 강지훈은 크루즈를 떠난다."
        }
      ]
    },
    {
      "id": "scene_ending_bad1",
      "chapter": "ending",
      "title": "오판",
      "background": "bg_cruise_deck",
      "dialogue": [
        {
          "type": "narration",
          "text": "강지훈은 엉뚱한 사람을 범인으로 지목했다. 진범은 유유히 크루즈를 빠져나간다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "내가 틀렸어..."
        },
        {
          "type": "narration",
          "text": "실패감에 휩싸인 강지훈은 탐정으로서의 자질에 회의감을 느낀다."
        }
      ]
    },
    {
      "id": "scene_ending_bad2",
      "chapter": "ending",
      "title": "미해결 사건",
      "background": "bg_cruise_deck",
      "dialogue": [
        {
          "type": "narration",
          "text": "충분한 단서를 찾지 못한 강지훈은 사건을 미해결 상태로 남겨둔 채 크루즈를 떠난다."
        },
        {
          "type": "speak",
          "character": "char_protagonist",
          "text": "이번 사건은 실패다..."
        },
        {
          "type": "narration",
          "text": "강지훈은 과거 해결하지 못했던 사건의 악몽에 다시 시달리게 된다."
        }
      ]
    }
  ],
  "deductionPhase": {
    "entryScene": "scene_deduction_start",
    "questions": [
      {
        "id": "q_culprit",
        "question": "범인은 누구인가?",
        "type": "character_select",
        "options": [
          {
            "characterId": "char_heiress",
            "isCorrect": false
          },
          {
            "characterId": "char_journalist",
            "isCorrect": true
          },
          {
            "characterId": "char_musician",
            "isCorrect": false
          },
          {
            "characterId": "char_employee",
            "isCorrect": false
          },
          {
            "characterId": "char_soundEngineer",
            "isCorrect": false
          }
        ]
      },
      {
        "id": "q_trick",
        "question": "트릭은 무엇인가?",
        "type": "text_select",
        "options": [
          {
            "text": "타자 소리 녹음 파일을 이용한 알리바이 트릭",
            "isCorrect": true
          },
          {
            "text": "카지노에서의 목격담을 이용한 알리바이 트릭",
            "isCorrect": false
          },
          {
            "text": "비상 통로를 이용한 증거 인멸 트릭",
            "isCorrect": false
          }
        ]
      },
      {
        "id": "q_motive",
        "question": "범행 동기는 무엇인가?",
        "type": "text_select",
        "options": [
          {
            "text": "강태준의 과거 비리 폭로 시도 실패 및 언론 탄압으로 인한 기자 생명 위협",
            "isCorrect": true
          },
          {
            "text": "강태준과의 투자 계약 조건 불만",
            "isCorrect": false
          },
          {
            "text": "강태준의 후원 중단으로 인한 경제적 어려움",
            "isCorrect": false
          },
          {
            "text": "강태준의 비리를 은폐하려는 동기",
            "isCorrect": false
          }
        ]
      }
    ]
  },
  "endings": [
    {
      "id": "ending_true",
      "type": "true",
      "title": "TRUE END",
      "condition": {
        "deduction_correct": [
          "q_culprit",
          "q_trick",
          "q_motive"
        ]
      },
      "startScene": "scene_ending_true"
    },
    {
      "id": "ending_normal",
      "type": "normal",
      "title": "NORMAL END",
      "condition": {
        "deduction_correct": [
          "q_culprit"
        ]
      },
      "startScene": "scene_ending_normal"
    },
    {
      "id": "ending_bad1",
      "type": "bad",
      "title": "BAD END 1",
      "condition": {
        "deduction_wrong": [
          "q_culprit"
        ]
      },
      "startScene": "scene_ending_bad1"
    },
    {
      "id": "ending_bad2",
      "type": "bad",
      "title": "BAD END 2",
      "condition": {
        "critical_clue_count": {
          "lessThan": 4
        }
      },
      "startScene": "scene_ending_bad2"
    }
  ],
  "storyValidation": {
    "protagonistDefined": true,
    "victimAppearsInPrologue": true,
    "culpritNeverConfesses": true,
    "allCriticalEvidenceAccessible": true
  }
}